((n,t)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).KeenSlider=t()})(this,function(){var w=function(){return(w=Object.assign||function(n){for(var t,e=1,i=arguments.length;e<i;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function D(n,t,e){if(e||2===arguments.length)for(var i,o=0,a=t.length;o<a;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return n.concat(i||Array.prototype.slice.call(t))}function e(n){return Array.prototype.slice.call(n)}function i(n,t){var e=Math.floor(n);return e===t||e+1===t?n:t}function L(){return Date.now()}function M(n,t,e){if(t="data-keen-slider-"+t,null===e)return n.removeAttribute(t);n.setAttribute(t,e||"")}function S(n,t){return t=t||document,"function"==typeof n&&(n=n(t)),Array.isArray(n)?n:"string"==typeof n?e(t.querySelectorAll(n)):n instanceof HTMLElement?[n]:n instanceof NodeList?e(n):[]}function O(n){(n=n.raw?n.raw:n).cancelable&&!n.defaultPrevented&&n.preventDefault()}function _(n){(n=n.raw?n.raw:n).stopPropagation&&n.stopPropagation()}function H(){var o=[];return{add:function(n,t,e,i){n.addListener?n.addListener(e):n.addEventListener(t,e,i),o.push([n,t,e,i])},input:function(n,t,e,i){var o;this.add(n,t,(o=e,function(n){var t=(n=n.nativeEvent?n.nativeEvent:n).changedTouches||[],e=n.targetTouches||[],i=n.detail&&n.detail.x?n.detail:null;return o({id:i?i.identifier||"i":e[0]?e[0]?e[0].identifier:"e":"d",idChanged:i?i.identifier||"i":t[0]?t[0]?t[0].identifier:"e":"d",raw:n,x:i&&i.x?i.x:e[0]?e[0].screenX:i?i.x:n.pageX,y:i&&i.y?i.y:e[0]?e[0].screenY:i?i.y:n.pageY})}),i)},purge:function(){o.forEach(function(n){n[0].removeListener?n[0].removeListener(n[2]):n[0].removeEventListener(n[1],n[2],n[3])}),o=[]}}}function P(n,t,e){return Math.min(Math.max(n,t),e)}function W(n){return(0<n?1:0)-(n<0?1:0)||+n}function T(n){var t=n.getBoundingClientRect();return{height:i(t.height,n.offsetHeight),width:i(t.width,n.offsetWidth)}}function j(n,t,e,i){n=n&&n[t];return null==n?e:i&&"function"==typeof n?n():n}function q(n){return Math.round(1e6*n)/1e6}function k(a){var t,c,l,f,p,h,u,r,m,g,v,b,x,y,e=[],i=null,k=0;function s(n){o(k+n)}function d(n){n=w(k+n).abs;return C(n)?n:null}function w(n){var t=Math.floor(Math.abs(q(n/c))),e=q((n%c+c)%c),n=(e===c&&(e=0),W(n)),i=u.indexOf(D([],u,!0).reduce(function(n,t){return Math.abs(t-e)<Math.abs(n-e)?t:n})),o=i;return n<0&&t++,i===h&&(t+=(o=0)<n?1:-1),{abs:o+t*h*n,origin:i,rel:o}}function M(n,t,e){return t||!z()?T(n,e):C(n)?(t=T(n=(t=w(null!=e?e:k)).abs+(e=n-t.rel)),q(t=null!==(n=T(n-h*W(e)))&&Math.abs(n)<Math.abs(t)||null===t?n:t)):null}function T(n,t){if(null==t&&(t=q(k)),!C(n)||null===n)return null;n=Math.round(n);var e=w(t),i=e.abs,o=e.origin,a=I(n),t=(t%c+c)%c,r=u[o],n=Math.floor((n-(i-e.rel))/h)*c;return q(r-t-r+u[a]+n+(o===h?c:0))}function C(n){return E(n)===n}function E(n){return P(n,m,g)}function z(){return f.loop}function I(n){return(n%h+h)%h}function o(n){var t=n-k,t=(e.push({distance:t,timestamp:L()}),6<e.length&&(e=e.slice(-6)),k=q(n),A().abs);t!==i&&(n=null!==i,i=t,n)&&a.emit("slideChanged")}function A(n){n=n?null:(()=>{var o,n,a,r,u,t,s,d;if(h)return n=(o=z())?(k%c+c)%c:k,t=(o?k%c:k)-p[0][2],a=0-(t<0&&o?c-Math.abs(t):t),r=0,t=w(k),s=t.abs,u=p[d=t.rel][2],t=p.map(function(n,t){var e=a+r,t=((e<0-n[0]||1<e)&&(e+=(Math.abs(e)>c-1&&o?c:0)*W(-e)),t-d),i=W(t),t=t+s,i=(o&&(-1===i&&u<e&&(t+=h),1===i&&e<u&&(t-=h),null!==v&&t<v&&(e+=c),null!==b)&&b<t&&(e-=c),e+n[0]+n[1]),i=Math.max(0<=e&&i<=1?1:i<0||1<e?0:e<0?Math.min(1,(n[0]+e)/n[0]):(1-e)/n[0],0);return r+=n[0]+n[1],{abs:t,distance:f.rtl?-1*e+1-n[0]:e,portion:i,size:n[0]}}),d=I(s=E(s)),{abs:E(s),length:l,max:y,maxIdx:g,min:x,minIdx:m,position:k,progress:o?n/c:k/l,rel:d,slides:t,slidesLength:c}})();return t.details=n,a.emit("detailsChanged"),n}return t={absToRel:I,add:s,details:null,distToIdx:d,idxToDist:M,init:function(n){if(f=a.options,p=(f.trackConfig||[]).map(function(n){return[j(n,"size",1),j(n,"spacing",0),j(n,"origin",0)]}),(h=p.length)&&(c=q(p.reduce(function(n,t){return n+t[0]+t[1]},0)),t=h-1,l=q(c+p[0][2]-p[t][0]-p[t][2]-p[t][1]),u=p.reduce(function(n,t){var e;return n?(e=p[n.length-1],e=n[n.length-1]+(e[0]+e[2])+e[1],e=q(e=(e-=t[2])<n[n.length-1]?n[n.length-1]:e),n.push(e),(!i||i<e)&&(r=n.length-1),i=e,n):[0]},null),0===l&&(r=0),u.push(q(c))),!h)return A(!0);var i,t,e,o;t=a.options.range,e=a.options.loop,v=m=e?j(e,"min",-1/0):0,b=g=e?j(e,"max",1/0):r,e=j(t,"min",null),(o=j(t,"max",null))&&(g=o),x=(m=e?e:m)===-1/0?m:a.track.idxToDist(m||0,!0,0),y=g===1/0?g:M(g,!0,0),null===o&&(b=g),j(t,"align",!1)&&g!==1/0&&0===p[I(g)][2]&&(y-=1-p[I(g)][0],g=d(y-k)),x=q(x),y=q(y),e=n,Number(e)===e?s(T(E(n))):A()},to:o,velocity:function(){var i=L(),n=e.reduce(function(n,t){var e=t.distance,t=t.timestamp;return 200<i-t||((n=W(e)!==W(n.distance)&&n.distance?{distance:0,lastTimestamp:0,time:0}:n).time&&(n.distance+=e),n.lastTimestamp&&(n.time+=t-n.lastTimestamp),n.lastTimestamp=t),n},{distance:0,lastTimestamp:0,time:0});return n.distance/n.time||0}}}function C(d){var c,l,n,f,p,h,t,e;function m(n){return P(n,t,e)}function g(n){return 1-Math.pow(1-n,3)}function v(){return n?d.track.velocity():0}function b(n,t){void 0===t&&(t=1e3);t=147e-9+(n=Math.abs(n))/t;return{dist:Math.pow(n,2)/t,dur:n/t}}function i(){var n=d.track.details;n&&(p=n.min,h=n.max,t=n.minIdx,e=n.maxIdx)}function x(){d.animator.stop()}d.on("updated",i),d.on("optionsChanged",i),d.on("created",i),d.on("dragStarted",function(){n=!1,x(),c=l=d.track.details.abs}),d.on("dragChecked",function(){n=!0}),d.on("dragEnded",function(){var n,t,e,i,o,a,r,u,s=d.options.mode;"snap"===s&&(o=d.track,a=d.track.details,r=a.position,u=W(v()),r=c+(u=h<r||r<p?0:u),0===a.slides[o.absToRel(r)].portion&&(r-=u),c!==l&&(r=l),W(o.idxToDist(r,!0))!==u&&(r+=u),r=m(r),a=o.idxToDist(r,!0),d.animator.start([{distance:a,duration:500,easing:function(n){return 1+--n*n*n*n*n}}])),"free"!==s&&"free-snap"!==s||(x(),u="free-snap"===d.options.mode,o=d.track,r=v(),f=W(r),a=d.track.details,s=[],r||!u?(i=(e=b(r)).dist,e=e.dur,e*=2,i*=f,u&&(u=o.idxToDist(o.distToIdx(i),!0))&&(i=u),s.push({distance:i,duration:e,easing:g}),((u=(o=a.position)+i)<p||h<u)&&(n=0,t=r,W(u=u<p?p-o:h-o)===f?(o=Math.min(Math.abs(u)/Math.abs(i),1),i=(1-Math.pow(1-o,1/3))*e,s[0].earlyExit=i,t=r*(1-o)):(s[0].earlyExit=0,n+=u),i=(e=b(t,100)).dist*f,d.options.rubberband)&&(s.push({distance:i,duration:2*e.dur,easing:g}),s.push({distance:-i+n,duration:500,easing:g})),d.animator.start(s)):d.moveToIdx(m(a.abs),!0,{duration:500,easing:function(n){return 1+--n*n*n*n*n}}))}),d.on("dragged",function(){l=d.track.details.abs})}function E(r){var e,u,s,d,c,l,f,p,h,m,g,v,i,o,b,x,y,k,w=H();function a(n){if(l&&p===n.id){var t=E(n);if(h){if(!C(n))return T(n);m=t,h=!1,r.emit("dragChecked")}if(x)return m=t;O(n);e=f(m-t)/d*s;o=y===-1/0&&k===1/0?e:(a=(o=r.track.details).length,i=P(e,y-(o=o.position),k-o),0===a?0:r.options.rubberband?o<=k&&y<=o||o<y&&0<u||k<o&&u<0?e:(o=(o<y?o-y:o-k)/a,a=d*a,o=Math.abs(o*a),(a=Math.max(0,1-o/c*2))*a*e):i),a=(u=W(o),r.track.details.position);(y<a&&a<k||a===y&&0<u||a===k&&u<0)&&_(n),g+=o,!v&&5<Math.abs(g*d)&&(v=!0),r.track.add(o),m=t,r.emit("dragged")}var e,i,o,a}function M(n){!l&&r.track.details&&r.track.details.length&&(h=!(v=!(l=!(g=0))),p=n.id,C(n),m=E(n),r.emit("dragStarted"))}function T(n){l&&p===n.idChanged&&(l=!1,r.emit("dragEnded"))}function C(n){var t=z(),e=t?n.y:n.x,t=t?n.x:n.y,n=void 0!==i&&void 0!==o&&Math.abs(o-t)<=Math.abs(i-e);return i=e,o=t,n}function E(n){return z()?n.y:n.x}function z(){return r.options.vertical}function I(){d=r.size,c=z()?window.innerHeight:window.innerWidth;var n=r.track.details;n&&(y=n.min,k=n.max)}function A(n){v&&(_(n),O(n))}function n(){var t,n;w.purge(),r.options.drag&&!r.options.disabled&&(t=r.options.dragSpeed||1,f="function"==typeof t?t:function(n){return n*t},s=r.options.rtl?-1:1,I(),e=r.container,S("[".concat(n="data-keen-slider-clickable","]:not([").concat(n,"=false])"),e).map(function(n){w.add(n,"dragstart",_),w.add(n,"mousedown",_),w.add(n,"touchstart",_)}),w.add(e,"dragstart",function(n){O(n)}),w.add(e,"click",A,{capture:!0}),w.input(e,"ksDragStart",M),w.input(e,"ksDrag",a),w.input(e,"ksDragEnd",T),w.input(e,"mousedown",M),w.input(e,"mousemove",a),w.input(e,"mouseleave",T),w.input(e,"mouseup",T),w.input(e,"touchstart",M,{passive:!0}),w.input(e,"touchmove",a,{passive:!1}),w.input(e,"touchend",T),w.input(e,"touchcancel",T),w.add(window,"wheel",function(n){l&&O(n)}),S("[".concat(n="data-keen-slider-scrollable","]:not([").concat(n,"=false])"),r.container).map(function(n){return a=n,w.input(a,"touchstart",function(n){r=E(n),b=x=!0},{passive:!0}),w.input(a,"touchmove",function(n){var t=z(),e=t?a.scrollHeight-a.clientHeight:a.scrollWidth-a.clientWidth,i=r-E(n),o=t?a.scrollTop:a.scrollLeft,t=t&&"scroll"===a.style.overflowY||!t&&"scroll"===a.style.overflowX;if(r=E(n),(i<0&&0<o||0<i&&o<e)&&b&&t)return x=!0;b=!1,O(n),x=!1}),void w.input(a,"touchend",function(){x=!1});var a,r}))}r.on("updated",I),r.on("optionsChanged",n),r.on("created",n),r.on("destroyed",w.purge)}function z(d){var t,n,c=null;function e(n,t,e){d.animator.active?o(n,t,e):requestAnimationFrame(function(){return o(n,t,e)})}function i(){e(!1,!1,n)}function o(i,o,a){var r,u=0,s=d.size,n=d.track.details;n&&t&&(r=n.slides,t.forEach(function(n,t){var e;i?(!c&&o&&l(n,null,a),f(n,null,a)):r[t]&&(e=r[t].size*s,!c&&o&&l(n,e,a),f(n,r[t].distance*s-u,a),u+=e)}))}function a(n){return"performance"===d.options.renderMode?Math.round(n):n}function l(n,t,e){e=e?"height":"width";null!==t&&(t=a(t)+"px"),n.style["min-"+e]=t,n.style["max-"+e]=t}function f(n,t,e){var i;null!==t&&(t=a(t),i=e?t:0,t="translate3d(".concat(e?0:t,"px, ").concat(i,"px, 0)")),n.style.transform=t,n.style["-webkit-transform"]=t}function r(){t&&(o(!0,!0,n),t=null),d.on("detailsChanged",i,!0)}function u(){e(!1,!0,n)}function s(){r(),n=d.options.vertical,d.options.disabled||"custom"===d.options.renderMode||(c="auto"===j(d.options.slides,"perView",null),d.on("detailsChanged",i),(t=d.slides).length&&u())}d.on("created",s),d.on("optionsChanged",s),d.on("beforeOptionsChanged",function(){r()}),d.on("updated",u),d.on("destroyed",r)}function I(y,k){return function(p){var i,o,a,r,n,u=H();function e(n){M(p.container,"reverse","rtl"!==window.getComputedStyle(p.container,null).getPropertyValue("direction")||n?null:""),M(p.container,"v",p.options.vertical&&!n?"":null),M(p.container,"disabled",p.options.disabled&&!n?"":null)}function s(){d()&&h()}function d(){var n,t=null;if(r.forEach(function(n){n.matches&&(t=n.__media)}),t!==i)return i||p.emit("beforeOptionsChanged"),n=(i=t)?a.breakpoints[t]:a,p.options=w(w({},a),n),e(),b(),x(),m(),1}function c(){return p.options.trackConfig.length}function l(n){for(var t in i=!1,a=w(w({},k),n),u.purge(),o=p.size,r=[],a.breakpoints||[]){var e=window.matchMedia(t);e.__media=t,r.push(e),u.add(e,"change",s)}u.add(window,"orientationchange",v),u.add(window,"resize",g),d()}function f(n){p.animator.stop();var t=p.track.details;p.track.init(null!=n?n:t?t.abs:0)}function h(n){f(n),p.emit("optionsChanged")}function t(n,t){n?(l(n),h(t)):(b(),x(),n=c(),m(),(c()!==n?h:f)(t),p.emit("updated"))}function m(){var n=p.options.slides;if("function"==typeof n)return p.options.trackConfig=n(p.size,p.slides);for(var e,t=p.slides,i=t.length,o="number"==typeof n?n:j(n,"number",i,!0),a=[],r=j(n,"perView",1,!0),u=j(n,"spacing",0,!0)/p.size||0,s="auto"===r?u:u/r,d=j(n,"origin","auto"),c=0,l=0;l<o;l++){var f="auto"===r?(f=T(f=t[l]),(p.options.vertical?f.height:f.width)/p.size||1):1/r-u+s;a.push({origin:"center"===d?.5-f/2:"auto"===d?0:d,size:f,spacing:u}),c+=f}c+=u*(o-1),"auto"!==d||p.options.loop||1===r||(e=0,a.map(function(n){var t=c-e;return e+=n.size+u,1<=t||(n.origin=1-t-(1<c?0:1-c)),n})),p.options.trackConfig=a}function g(){b();var n=p.size;p.options.disabled||n===o||(o=n,t())}function v(){g(),setTimeout(g,500),setTimeout(g,2e3)}function b(){var n=T(p.container);p.size=(p.options.vertical?n.height:n.width)||1}function x(){p.slides=S(p.options.selector,p.container)}p.container=(n=S(y,document)).length?n[0]:null,p.destroy=function(){u.purge(),p.emit("destroyed"),e(!0)},p.prev=function(){p.moveToIdx(p.track.details.abs-1,!0)},p.next=function(){p.moveToIdx(p.track.details.abs+1,!0)},p.update=t,l(p.options)}}return function(n,t,e){try{var o,i,a,s,d,r,u,c=t,l=D([I(n,{drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"}),z,E,C],e||[],!0),f={},p={emit:function(n){f[n]&&f[n].forEach(function(n){n(p)});n=p.options&&p.options[n];n&&n(p)},moveToIdx:function(n,t,e){n=p.track.idxToDist(n,t);n&&(t=p.options.defaultAnimation,p.animator.start([{distance:n,duration:j(e||t,"duration",500),easing:j(e||t,"easing",function(n){return 1+--n*n*n*n*n})}]))},on:function(n,t,e){void 0===e&&(e=!1),f[n]||(f[n]=[]);var i=f[n].indexOf(t);-1<i?e&&delete f[n][i]:e||f[n].push(t)},options:c};if(p.track=k(p),p.animator=(o=p,i={active:!1,start:function(n){var r,u;y(),o.track.details&&(r=0,u=o.track.details.position,s=a=0,d=n.map(function(n){var t=Number(u),e=null!=(e=n.earlyExit)?e:n.duration,i=n.easing,o=n.distance*i(e/n.duration)||0,a=(u+=o,s);return s+=e,r+=o,[t,n.distance,a,s,n.duration,i]}),b(o.track.distToIdx(r)),x(),o.emit("animationStarted"))},stop:y,targetIdx:null}),l)for(var h=0,m=l;h<m.length;h++)(0,m[h])(p);function g(n){u=u||n,v(!0);var t,e=n-u,i=(s<e&&(e=s),d[a]);return i[3]<e?(a++,g(n)):(n=i[0],(i=i[1]*(0,i[5])(0===(t=i[4])?1:(e-i[2])/t))&&o.track.to(n+i),e<s?x():(u=null,v(!1),b(null),void o.emit("animationEnded")))}function v(n){i.active=n}function b(n){i.targetIdx=n}function x(){r=window.requestAnimationFrame(g)}function y(){var n=r;window.cancelAnimationFrame(n),v(!1),b(null),u&&o.emit("animationStopped"),u=null}return p.track.init(p.options.initial||0),p.emit("created"),p}catch(n){console.error(n)}}});
//# sourceMappingURL=scripts.js.map
